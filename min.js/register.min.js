let spcolorcharaarray=["#7ecbf7","#f08300","#ff9999","#229977","#ff4a4a","#44aaff","#7a7a7a","#dbb623","#d47aff","#ff5599","#90D7EC","#cccccc"],spcolorteamarray=["white","#ffaa01","#fe5ea2","#825deb","#cd3935"];function charabtselect(a){$(a).css("background-color",spcolorcharaarray[$(a).attr("name")]),11!=$(a).attr("name")&&$(a).css("color","white")}function charabtreset(a){$(a).css("background-color",spcolorcharaarray[0]),$(a).css("color","black")}function teambtselect(a){$(a).css("background-color",spcolorteamarray[$(a).attr("name")])}function teambtreset(a){$(a).css("background-color",spcolorteamarray[0])}function gradebtselect(a){$(a).css("background-color","#2fa4f7")}function gradebtreset(a){$(a).css("background-color","#7ecbf7")}let btarray=[{class:"charabt",input:"osuPerson",select:charabtselect,reset:charabtreset},{class:"teambt",input:"osuTeam",select:teambtselect,reset:teambtreset},{class:"gradebt",input:"osuGrade",select:gradebtselect,reset:gradebtreset}];btcl=btarray.length,$(".bt").hover(function(){let a;for(a=0;a<btcl;++a)if($(this).hasClass(btarray[a]["class"])){$(this).attr("name")!=$("#"+btarray[a].input).attr("value")&&btarray[a].select(this);break}},function(){let a;for(a=0;a<btcl;++a)if($(this).hasClass(btarray[a]["class"])){$(this).attr("name")!=$("#"+btarray[a].input).attr("value")&&btarray[a].reset(this);break}}),$(".bt").click(function(){let a;for(a=0;a<btcl;++a)if($(this).hasClass(btarray[a]["class"])){if(0!=$("#"+btarray[a].input).attr("value")){let b="#"+btarray[a]["class"]+$("#"+btarray[a].input).attr("value");btarray[a].reset(b)}$("#"+btarray[a].input).attr("value")==$(this).attr("name")?$("#"+btarray[a].input).attr("value",0):(btarray[a].select(this),$("#"+btarray[a].input).attr("value",$(this).attr("name")));break}}),$(".ddbt").hover(function(){$(this).attr("name")!=$("#isDD").attr("value")&&$(this).css("background-color","#fe5ea2")},function(){$(this).attr("name")!=$("#isDD").attr("value")&&$(this).css("background-color","#103e99")}),$(".ddbt").click(function(){$("#isDD").attr("value")==$(this).attr("name")?($(this).css("background-color","#103e99"),$("#isDD").attr("value",2),$(".ddtext").html(`<small>（若选中则代表全部角色的应援物都可以接受）</small>`)):($(this).css("background-color","#fe5ea2"),$("#isDD").attr("value",1),$(".ddtext").html(`<small>注意：你已选中了DD标签</small>`))});function messagealert(a){$("#messagebox").html(`
	    <div class="alertbox">`+a+`</div>`)}function clearalert(a){messagealert(a),$("#formpassword").val(""),$("#formpassword2").val(""),$("#formvcode").val(""),$("#vcodeimg").trigger("click")}$("#submitbt1").click(function(){let a=$("#formusername").val();if(!a)return messagealert("\u6635\u79F0\u4E0D\u80FD\u4E3A\u7A7A"),!1;if(30<a.length)return messagealert("\u6635\u79F0\u957F\u5EA6\u4E0D\u80FD\u8D85\u8FC730"),!1;let b=$("#formuserEmail").val();if(!b)return messagealert("\u7528\u6237\u90AE\u7BB1\u4E0D\u80FD\u4E3A\u7A7A"),!1;if(100<b.length)return messagealert("\u7528\u6237\u90AE\u7BB1\u957F\u5EA6\u4E0D\u80FD\u8D85\u8FC7100"),!1;var c=/\w+[@]{1}\w+[.]\w+/;if(!c.test(b))return messagealert("Email\u683C\u5F0F\u9519\u8BEF"),!1;let d=$("#formpassword").val();if(!d)return clearalert("\u7528\u6237\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"),!1;if(d!=$("#formpassword2").val())return clearalert("\u7528\u6237\u5BC6\u7801\u4E0E\u786E\u8BA4\u5BC6\u7801\u4E0D\u5339\u914D"),!1;let e=$("#isDD").val();if(2==e){if(0==$("#osuPerson").val())return messagealert("\u8BF7\u9009\u62E9\u6240\u63A8\u6210\u5458"),!1;if(0==$("#osuTeam").val())return messagealert("\u8BF7\u9009\u62E9\u6240\u63A8\u5C0F\u961F"),!1;if(0==$("#osuGrade").val())return messagealert("\u8BF7\u9009\u62E9\u6240\u63A8\u5E74\u7EA7"),!1}let f=$("#formvcode").val();return f?void($("#registerform").slideUp(0),$("#loading").slideDown(0,function(){$.post("/user/check",{userEmail:b},function(c){return!1==c.isAvailable?(clearalert(c.errInfo),$("#registerform").slideDown(0),$("#loading").slideUp(0),!1):void($("#userEmail").val(b),$("#userPassword").val(sha256(d)),$("#username").val(a),$("#verifyCode").val(f),$("#resultform").submit())})})):(clearalert("\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u7A7A"),!1)});
